<template>
    <div class="absolute inset-0 -z-1 overflow-hidden pointer-events-none">
        <div class="relative h-full w-full flex">
            <div class="absolute left-1/50 w-[4px] h-3/4 bg-white dark:bg-black">
                <div class="relative w-full h-full overflow-hidden">
                    <div data-group="1"
                        class="absolute top-[-50%] inset-x-0 mx-auto w-[1px] h-[10px] bg-white blur-[8px] shadow-[0_0_10px_13px] shadow-blue dark:shadow-white animate-drop">
                    </div>
                </div>
                <div
                    class="absolute left-1/2 -translate-x-1/2 -bottom-[12px] w-[14px] h-[14px] rounded-full border-[3px] border-white dark:border-black bg-transparent">
                </div>
            </div>

            <div class="absolute bottom-0 left-1/50 w-1 h-1/7 bg-white dark:bg-black">
                <div class="relative w-full h-full overflow-hidden">
                    <div data-group="1"
                        class="absolute bottom-[-50%] inset-x-0 mx-auto w-[1px] h-[10px] bg-white blur-[8px] shadow-[0_0_10px_13px] shadow-blue dark:shadow-white animate-rise">
                    </div>
                </div>
                <div
                    class="absolute left-1/2 -translate-x-1/2 -top-[12px] w-[14px] h-[14px] rounded-full border-[3px] border-white dark:border-black bg-transparent">
                </div>
            </div>

            <div class="absolute left-3/50 w-[4px] h-1/2 bg-white dark:bg-black">
                <div class="relative w-full h-full overflow-hidden">
                    <div data-group="2"
                        class="absolute top-[-50%] inset-x-0 mx-auto w-[1px] h-[10px] bg-white blur-[8px] shadow-[0_0_10px_13px] shadow-blue dark:shadow-white animate-drop">
                    </div>
                </div>
                <div class="absolute w-[4px] h-1/3 bg-white dark:bg-black origin-[0%_0%] -rotate-30">
                    <div class="relative w-full h-full overflow-hidden">
                        <div data-group="2"
                            class="absolute top-[-50%] inset-x-0 mx-auto w-[1px] h-[10px] bg-white blur-[8px] shadow-[0_0_10px_13px] shadow-blue dark:shadow-white animate-drop-2">
                        </div>
                    </div>
                    <div
                        class="absolute left-1/2 -translate-x-1/2 flex justify-center items-center -bottom-[12px] w-[14px] h-[14px] rounded-full overflow-hidden bg-white dark:bg-black">
                        <div class="relative w-3/5 h-3/5 rounded-full bg-soft-white dark:bg-dark-blue z-1"></div>
                        <div data-group="2"
                            class="absolute top-[-300%] inset-x-0 mx-auto w-[10px] h-[14px] bg-white blur-[8px] shadow-[0_0_10px_13px] shadow-blue dark:shadow-white animate-drop-3">
                        </div>
                    </div>
                </div>
            </div>

            <div class="absolute left-4/50 w-[4px] h-2/5 bg-white dark:bg-black">
                <div class="relative w-full h-full overflow-hidden">
                    <div data-group="3"
                        class="absolute top-[-50%] inset-x-0 mx-auto w-[1px] h-[10px] bg-white blur-[8px] shadow-[0_0_10px_13px] shadow-blue dark:shadow-white animate-drop">
                    </div>
                </div>
                <div class="absolute w-[4px] h-1/2 bg-white dark:bg-black origin-[0%_0%] -rotate-30">
                    <div class="relative w-full h-full overflow-hidden">
                        <div data-group="3"
                            class="absolute top-[-50%] inset-x-0 mx-auto w-[1px] h-[10px] bg-white blur-[8px] shadow-[0_0_10px_13px] shadow-blue dark:shadow-white animate-drop-2">
                        </div>
                    </div>
                    <div
                        class="absolute left-1/2 -translate-x-1/2 flex justify-center items-center -bottom-[12px] w-[14px] h-[14px] rounded-full overflow-hidden bg-white dark:bg-black">
                        <div class="relative w-3/5 h-3/5 rounded-full bg-soft-white dark:bg-dark-blue z-1"></div>
                        <div data-group="3"
                            class="absolute top-[-300%] inset-x-0 mx-auto w-[10px] h-[14px] bg-white blur-[8px] shadow-[0_0_10px_13px] shadow-blue dark:shadow-white animate-drop-3">
                        </div>
                    </div>
                </div>
            </div>

            <div class="absolute left-5/50 w-[4px] h-2/5 bg-white dark:bg-black">
                <div class="relative w-full h-full overflow-hidden">
                    <div data-group="4"
                        class="absolute top-[-50%] inset-x-0 mx-auto w-[1px] h-[10px] bg-white blur-[8px] shadow-[0_0_10px_13px] shadow-blue dark:shadow-white animate-drop">
                    </div>
                </div>
                <div class="absolute w-[4px] h-1/2 bg-white dark:bg-black origin-[0%_0%] -rotate-30">
                    <div class="relative w-full h-full overflow-hidden">
                        <div data-group="4"
                            class="absolute top-[-50%] inset-x-0 mx-auto w-[1px] h-[10px] bg-white blur-[8px] shadow-[0_0_10px_13px] shadow-blue dark:shadow-white animate-drop-2">
                        </div>
                    </div>
                    <div
                        class="absolute left-1/2 -translate-x-1/2 flex justify-center items-center -bottom-[12px] w-[14px] h-[14px] rounded-full overflow-hidden bg-white dark:bg-black">
                        <div class="relative w-3/5 h-3/5 rounded-full bg-soft-white dark:bg-dark-blue z-1"></div>
                        <div data-group="4"
                            class="absolute top-[-300%] inset-x-0 mx-auto w-[10px] h-[14px] bg-white blur-[8px] shadow-[0_0_10px_13px] shadow-blue dark:shadow-white animate-drop-3">
                        </div>
                    </div>
                </div>
            </div>


            <div class="absolute left-3/8 w-1 h-7/8 bg-white dark:bg-black overflow-hidden">
                <div class="absolute top-[-50%] inset-x-0 mx-auto w-1/2 h-2 bg-white animate-drop"></div>
            </div>
            <div class="absolute left-2/5 w-1 h-1/4 bg-white dark:bg-black overflow-hidden">
                <div class="absolute top-[-50%] inset-x-0 mx-auto w-1/2 h-2 bg-white animate-drop"></div>
            </div>
            <div class="absolute left-4/6 w-1 h-full bg-white dark:bg-black overflow-hidden">
                <div class="absolute top-[-50%] inset-x-0 mx-auto w-1/2 h-2 bg-white animate-drop"></div>
            </div>
            <div class="absolute left-8/9 w-1 h-full bg-white dark:bg-black overflow-hidden">
                <div class="absolute top-[-50%] inset-x-0 mx-auto w-1/2 h-2 bg-white animate-drop"></div>
            </div>
        </div>
    </div>
</template>

<script setup>
import { onMounted } from 'vue'

onMounted(() => {
    const maxDelay = 5
    const groups = new Map()

    document.querySelectorAll('[data-group]').forEach(el => {
        const group = el.getAttribute('data-group')

        if (!groups.has(group)) {
            const delay = (Math.random() * maxDelay).toFixed(2) + 's'
            groups.set(group, delay)
        }

        el.style.animationDelay = groups.get(group)
    })
})
</script>